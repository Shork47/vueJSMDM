  <template>    <div class="flex justify-center !important">      <form v-on:submit.prevent="createCategory" class="w-1/2 p-6">        <h2 class="text-2xl mb-4 text-center" style="color: dimgray">Добавление категории</h2>        <div class="flex flex-col">          <InputText type="text" placeholder="Введите категорию" v-model="this.categoryName"/>        </div>        <div class="mb-4 mt-4">          <label for="file" id="file-label" class="block text-md font-medium text-gray-500 border border-gray-300 rounded-md p-2">            <span class="pi pi-upload mx-3">Выбрать изображение</span>          </label>          <input type="file" hidden id="file" name="file" v-on:change="changeCaption" required accept="image/*">        </div>        <div class="flex font-col mt-6 justify-center">          <Button type="submit" label="Добавить"/>        </div>      </form>    </div>    <Toast position="bottom-right" />  </template>  <script>  import InputText from 'primevue/inputtext';  import Button from 'primevue/button';  import {useDataStore} from '@/stores/dataStore.js';  import Toast from 'primevue/toast';  export default {    name: 'CreateCategory',    components: {InputText, Button, Toast},    data() {      return {        dataStore: useDataStore(),        categoryName: '',        categoryImage: null,      }    },    computed: {      errorMessage() {        return this.dataStore.errorMessage;      },      errorCode() {        return this.dataStore.errorCode;      }    },    methods: {      changeCaption(event) {        const file = event.target.files[0];        if (file) {          document.getElementById('file-label').innerHTML = '<span class="pi pi-file mx-3"></span>' + file.name;          this.categoryImage = file;        }        else {          document.getElementById('file-label').innerHTML = '<span class="pi pi-file mx-3"></span>Выбрать изображение';          this.categoryName = null;        }      },      async createCategory() {        const formData = new FormData();        formData.append('name', this.categoryName);        formData.append('image', this.categoryImage);        await this.dataStore.create_category(formData);        if (this.errorCode > 0)          this.$toast.add({severity: 'error', summary: "Ошибка добавления категории", detail: this.errorMessage, life: 4000});        else          this.$toast.add({severity: 'success', summary: "Категория добавлена", detail: this.errorMessage, life: 4000});      }    }  }  </script>  <style scoped>  </style>